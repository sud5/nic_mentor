define(["jquery","jqueryui","core/ajax","core/str","core/form-autocomplete","core/notification","core/templates","core/url"],function(e,t,r,o,n,a,i,l){var m={setup:function(){e(document).on("click",".page-link",m.pagination),e(document).on("keyup","#pfnumber, #useremail",m.text_filter)},pagination:function(t){t.preventDefault();var o=(o=e(this).attr("href")).match(/(\d+)/g),n=(o=e.trim(o),parseInt(o));if(isNaN(n))t.preventDefault();else{var i=e("#useremail").val(),l={pix:M.util.image_url("loading","local_mentor"),component:"moodle"},m=e("<img />").attr("src",M.util.image_url(l.pix,l.component)).addClass("spinner");e(".mentor-user-report").html('<div class="text-center">'+m.get(0).outerHTML+"</div>"),r.call([{methodname:"local_mentor_get_mentor_report",args:{email:i,page:n}}])[0].then(function(t){e(".mentor-user-report").html(t.html)}).fail(a.exception)}},text_filter:function(){var t=e("#useremail").val(),o={pix:M.util.image_url("loading","local_mentor"),component:"moodle"},n=e("<img />").attr("src",M.util.image_url(o.pix,o.component)).addClass("spinner");e(".mentor-user-report").html('<div class="text-center">'+n.get(0).outerHTML+"</div>"),r.call([{methodname:"local_mentor_get_mentor_report",args:{email:t,page:0}}])[0].then(function(t){e(".mentor-user-report").html(t.html)}).fail(a.exception)}};return{setup:m.setup}});