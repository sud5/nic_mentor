define(["jquery","jqueryui","core/ajax","core/str","core/form-autocomplete","core/notification","core/templates","core/url"],function(t,e,o,l,a,n,i,r){var c={setup:function(){var e,o,l;t(document).on("click",".page-link",c.pagination),t(document).on("keyup","#schoolnames",(e=c.text_filter,o=1e3,l=0,function(){var t=this,a=arguments;clearTimeout(l),l=setTimeout(function(){e.apply(t,a)},o||0)})),t(document).on("click",".showmentor",c.show_mentors)},pagination:function(e){e.preventDefault();var l=(l=t(this).attr("href")).match(/(\d+)/g),a=(l=t.trim(l),parseInt(l));if(isNaN(a))e.preventDefault();else{var i=t("#schoolnames").val(),r={pix:M.util.image_url("loading","local_mentor"),component:"moodle"},c=t("<img />").attr("src",M.util.image_url(r.pix,r.component)).addClass("spinner");t(".school-list-report").html('<div class="text-center">'+c.get(0).outerHTML+"</div>"),o.call([{methodname:"local_school_list",args:{page:a,name:i}}])[0].then(function(e){t(".school-list-report").html(e.html)}).fail(n.exception)}},text_filter:function(){var e=t("#schoolnames").val(),l={pix:M.util.image_url("loading","local_mentor"),component:"moodle"},a=t("<img />").attr("src",M.util.image_url(l.pix,l.component)).addClass("spinner");t(".school-list-report").html('<div class="text-center">'+a.get(0).outerHTML+"</div>"),o.call([{methodname:"local_school_list",args:{page:0,name:e}}])[0].then(function(e){t(".school-list-report").html(e.html)}).fail(n.exception)},show_mentors:function(){var e=t(this).attr("title"),o=t(this).attr("mentorlist");t("#basicModal").modal({show:!0}),t("#myModalLabel").html("<h4>"+e+"</h4>"),t(".modal-body-data").html(o)}};return{setup:c.setup}});